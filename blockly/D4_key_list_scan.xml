<xml xmlns="http://www.w3.org/1999/xhtml"><block type="procedures_defnoreturn" x="877" y="-617"><field name="NAME">key_scan</field><statement name="STACK"><block type="variables_global"><value name="VAR"><block type="variables_get"><field name="VAR">s_state</field></block></value><next><block type="variables_global"><value name="VAR"><block type="variables_get"><field name="VAR">key_last</field></block></value><next><block type="variables_set"><field name="VAR">key_current</field><value name="VALUE"><block type="list_many_input"><field name="CONTENT">1,1,1,1</field></block></value><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="loops_forEach"><field name="VAR">s</field><value name="LIST"><shadow type="list_many_input" id="urB%D%RTU~O;b;Q8V3~h"><field name="CONTENT">0,1,2,3</field></shadow><block type="variables_get"><field name="VAR">key</field></block></value><statement name="DO"><block type="lists_set_index"><value name="LIST"><shadow type="variables_get"><field name="VAR">key_current</field></shadow></value><value name="AT"><shadow type="math_number" id="rm4t;bUY?+_]0bN_DQ=Y"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR">i</field></block></value><value name="TO"><shadow type="math_number" id="[k`:UUQ}gSl}mjQi7qdk"><field name="NUM">0</field></shadow><block type="machine_pin_value"><value name="TUR"><shadow type="variables_get" id="y=w[fDY`1Uo2q#Y*-,gR"><field name="VAR">machine_pin</field></shadow><block type="variables_get"><field name="VAR">s</field></block></value></block></value><next><block type="math_selfcalcu"><field name="OP">ADD</field><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></next></block></statement><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="loops_forEach"><field name="VAR">s</field><value name="LIST"><shadow type="list_many_input" id="urB%D%RTU~O;b;Q8V3~h"><field name="CONTENT">0,1,2,3</field></shadow><block type="variables_get"><field name="VAR">key_current</field></block></value><statement name="DO"><block type="loops_if"><value name="IF0"><block type="logic_operation"><field name="OP">AND</field><value name="A"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">s</field></block></value><value name="B"><block type="math_number"><field name="NUM">0</field></block></value></block></value><value name="B"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="lists_get_index"><value name="LIST"><shadow type="variables_get"><field name="VAR">key_last</field></shadow></value><value name="AT"><shadow type="math_number" id="ttj^mK0%|~D+=Gk[m]pP"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR">i</field></block></value></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value></block></value><statement name="DO0"><block type="lists_set_index"><value name="LIST"><shadow type="variables_get"><field name="VAR">s_state</field></shadow></value><value name="AT"><shadow type="math_number" id="rm4t;bUY?+_]0bN_DQ=Y"><field name="NUM">0</field></shadow><block type="variables_get"><field name="VAR">i</field></block></value><value name="TO"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></statement><next><block type="math_selfcalcu"><field name="OP">ADD</field><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></next></block></statement><next><block type="variables_set"><field name="VAR">key_last</field><value name="VALUE"><block type="variables_get"><field name="VAR">key_current</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="163" y="-530"><field name="NAME">led_pwm</field><statement name="STACK"><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_red</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_yel</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_grn</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_blu</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="loops_delay"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="%O4wTA-%m9h-~%vn,oHg"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR">t1</field></block></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_red</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_yel</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_grn</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_blu</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="loops_delay"><field name="Time">ms</field><value name="DELAY_TIME"><shadow type="math_number" id="s~cfR[/hWqWZ:kOMLAX."><field name="NUM">10</field></shadow><block type="math_arithmetic"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="=nw$:$zO,oq0%CJnDQMx"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR">t</field></block></value><value name="B"><shadow type="math_number" id="XZ#oWlN{G7CjJ.Ezc28C"><field name="NUM">1</field></shadow><block type="variables_get"><field name="VAR">t1</field></block></value></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="506" y="-545"><field name="NAME">led_pwm_test</field><statement name="STACK"><block type="procedures_callnoreturn"><mutation name="led_pwm"></mutation><next><block type="math_selfcalcu"><field name="OP">ADD</field><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="loops_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">i</field></block></value><value name="B"><block type="math_number"><field name="NUM">20</field></block></value></block></value><statement name="DO0"><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="loops_if"><mutation else="1"></mutation><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">d</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="math_selfcalcu"><field name="OP">ADD</field><value name="A"><shadow type="variables_get"><field name="VAR">t1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></statement><statement name="ELSE"><block type="math_selfcalcu"><field name="OP">MINUS</field><value name="A"><shadow type="variables_get"><field name="VAR">t1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></statement><next><block type="loops_if"><mutation elseif="1"></mutation><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">t1</field></block></value><value name="B"><block type="variables_get"><field name="VAR">t</field></block></value></block></value><statement name="DO0"><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">d</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></statement><value name="IF1"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="variables_get"><field name="VAR">t1</field></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO1"><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">d</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value></block></statement></block></next></block></next></block></statement></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" x="1560" y="-333"><field name="NAME">key_test</field><statement name="STACK"><block type="procedures_callnoreturn"><mutation name="key_scan"></mutation><next><block type="loops_if"><value name="IF0"><block type="logic_compare"><field name="OP">EQ</field><value name="A"><block type="lists_get_index"><value name="LIST"><shadow type="variables_get"><field name="VAR">s_state</field></shadow></value><value name="AT"><shadow type="math_number"><field name="NUM">3</field></shadow></value></block></value><value name="B"><block type="math_number"><field name="NUM">1</field></block></value></block></value><statement name="DO0"><block type="text_print"><value name="data"><shadow type="text"><field name="TEXT">s4 falling</field></shadow></value><next><block type="lists_set_index"><value name="LIST"><shadow type="variables_get"><field name="VAR">s_state</field></shadow></value><value name="AT"><shadow type="math_number"><field name="NUM">3</field></shadow></value><value name="TO"><shadow type="math_number"><field name="NUM">0</field></shadow></value></block></next></block></statement></block></next></block></statement></block><block type="machine_pin_create_pull" x="154" y="100"><field name="VAR">led_red</field><field name="DIR1">Pin.OUT</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">17</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">led_yel</field><field name="DIR1">Pin.OUT</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">21</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">led_grn</field><field name="DIR1">Pin.OUT</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">22</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">led_blu</field><field name="DIR1">Pin.OUT</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">26</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">s1</field><field name="DIR1">Pin.IN</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">36</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">s2</field><field name="DIR1">Pin.IN</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">39</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">s3</field><field name="DIR1">Pin.IN</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">34</field></shadow></value><next><block type="machine_pin_create_pull"><field name="VAR">s4</field><field name="DIR1">Pin.IN</field><field name="DIR2">Pin.PULL_UP</field><value name="ID"><shadow type="math_number"><field name="NUM">35</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_red</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_yel</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_grn</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="machine_pin_setvalue"><value name="TUR"><shadow type="variables_get"><field name="VAR">led_blu</field></shadow></value><value name="VAL"><shadow type="math_number"><field name="NUM">0</field></shadow></value><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">t</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">11</field></shadow></value><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">t1</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">i</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="math_selfCreate"><value name="A"><shadow type="variables_get"><field name="VAR">d</field></shadow></value><value name="B"><shadow type="math_number"><field name="NUM">1</field></shadow></value><next><block type="lists_create_with"><mutation items="4"></mutation><field name="VAR">key</field><value name="ADD0"><block type="variables_get"><field name="VAR">s1</field></block></value><value name="ADD1"><block type="variables_get"><field name="VAR">s2</field></block></value><value name="ADD2"><block type="variables_get"><field name="VAR">s3</field></block></value><value name="ADD3"><block type="variables_get"><field name="VAR">s4</field></block></value><next><block type="variables_set"><field name="VAR">s_state</field><value name="VALUE"><block type="list_many_input"><field name="CONTENT">0,0,0,0</field></block></value><next><block type="variables_set"><field name="VAR">key_last</field><value name="VALUE"><block type="list_many_input"><field name="CONTENT">1,1,1,1</field></block></value><next><block type="loops_whileUntil"><field name="MODE">WHILE</field><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml>